# The Modern Web

The early web was simple: small scripts mixing HTML, PHP, and direct database calls. As the web grew into billions of pages and complex applications, backend development became a specialized discipline.  
This chapter introduces the foundational concepts that shape today’s backend work:
services, APIs, concurrency, layers, and data.

---

## 1. Services and APIs
Modern web systems separate frontend and backend responsibilities.  
A backend typically handles:

- Database access  
- Business logic  
- Communication with external services  

Frontends (web or mobile apps) communicate with backends through **APIs**, which act as strict contracts similar to database schemas.

### API Types
Each API defines:
- **Protocol** — *how* communication occurs  
- **Format** — *how* data is structured  

Common approaches include:

- Local function calls (library calls)
- **RPCs** (e.g., gRPC)
- **Messaging systems** such as Kafka, RabbitMQ, NATS  
  - request–response  
  - publish–subscribe  
  - message queues  

These may run alongside traditional web APIs.

---

## 2. HTTP
Tim Berners-Lee introduced three core components of the Web:

- **HTML** — data display  
- **HTTP** — client–server communication  
- **URLs** — addressing scheme  

HTTP became the universal communication standard of the web.

---

## 3. REST and RESTful APIs
Roy Fielding’s dissertation introduced **REST** (Representational State Transfer).  
The practical version used today is called **RESTful**, characterized by:

- Use of HTTP  
- Stateless communication  
- Cacheability  
- Resource-oriented structure  
- Endpoints defined by *URL + HTTP verb*

### CRUD and HTTP Verbs
- **POST** → Create  
- **GET** → Read  
- **PUT** → Replace  
- **PATCH** → Update partially  
- **DELETE** → Delete  

### Request Structure
A request may include:
- Headers  
- URL  
- Query parameters  
- Body  

### Response Structure
A response includes:
- Status code (100–500)
- Headers
- Optional body

---

## 4. JSON and Data Formats
JSON became the dominant format for API communication, replacing XML and SOAP.  
It is simple, human-readable, and maps naturally to Python data structures.

---

## 5. Concurrency
As the web expanded, services moved from handling hundreds of connections to thousands or millions.

### Synchronous vs Asynchronous
- **Synchronous Python** runs one task at a time.
- **Asynchronous Python** interleaves tasks, ideal for I/O-bound operations (network and disk).

FastAPI relies heavily on asynchronous design to achieve high performance.

---

## 6. Layered Architecture
A modern backend benefits from clear separation of responsibilities.  
This book proposes four conceptual layers:

### **Web Layer**
- Handles HTTP requests and responses
- Converts external data (JSON) into internal models

### **Service Layer**
- Contains business logic
- Coordinates actions and applies domain rules

### **Data Layer**
- Handles communication with databases or external APIs

### **Model Layer**
- Shared data definitions used by all layers

This separation allows:
- Independent testing  
- Cleaner architecture  
- Easier maintenance  
- Replacement of components without breaking others  

Communication between layers should occur **only through defined APIs**.

---

## 7. Data in Modern Web Systems
Backends evolved beyond relational database access and now commonly handle:

- NoSQL databases  
- External APIs  
- ETL pipelines  
- Machine learning workflows  

Data work has become a major part of backend engineering.
